<%- include('../partials/front_header') %>

    <!-- Hero Banner Slider -->
    <section class="relative">
        <% if (sliders && sliders.length> 0) { %>
            <div class="relative overflow-hidden slider-container">
                <% sliders.forEach((slider, index)=> { %>
                    <div class="slider-item <%= index === 0 ? 'active' : '' %>" data-index="<%= index %>">
                        <% if (slider.link) { %>
                            <a href="<%= slider.link %>">
                                <img src="<%= slider.imageUrl %>" alt="<%= slider.title %>"
                                    class="w-full aspect-[16/9] object-cover">
                            </a>
                            <% } else { %>
                                <img src="<%= slider.imageUrl %>" alt="<%= slider.title %>"
                                    class="w-full aspect-[16/9] object-cover">
                                <% } %>
                    </div>
                    <% }) %>

                        <% if (sliders.length> 1) { %>
                            <!-- Navigation Dots -->
                            <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2">
                                <% sliders.forEach((_, index)=> { %>
                                    <button onclick="goToSlide(<%= index %>)"
                                        class="slider-dot w-2 h-2 rounded-full bg-white/50 hover:bg-white transition-colors <%= index === 0 ? 'active bg-white' : '' %>">
                                    </button>
                                    <% }) %>
                            </div>

                            <!-- Navigation Arrows -->
                            <button onclick="prevSlide()"
                                class="absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white rounded-full flex items-center justify-center text-gray-800 transition-colors">
                                <i data-lucide="chevron-left" class="w-6 h-6"></i>
                            </button>
                            <button onclick="nextSlide()"
                                class="absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/80 hover:bg-white rounded-full flex items-center justify-center text-gray-800 transition-colors">
                                <i data-lucide="chevron-right" class="w-6 h-6"></i>
                            </button>
                            <% } %>
            </div>
            <% } else { %>
                <!-- Fallback banner if no sliders -->
                <div class="relative overflow-hidden">
                    <img src="https://kareemventure.com/wp-content/uploads/2024/02/Banner-Syaban-1.webp" alt="Sya'ban"
                        class="w-full aspect-[16/9] object-cover">
                </div>
                <% } %>
    </section>

    <style>
        .slider-container {
            position: relative;
        }

        .slider-item {
            display: none;
        }

        .slider-item.active {
            display: block;
        }

        .slider-dot.active {
            width: 1.5rem;
        }
    </style>

    <script>
        let currentSlide = 0;
        const totalSlides = <%= sliders ?sliders.length: 0 %>;

        function goToSlide(index) {
            const items = document.querySelectorAll('.slider-item');
            const dots = document.querySelectorAll('.slider-dot');

            items[currentSlide].classList.remove('active');
            dots[currentSlide].classList.remove('active');

            currentSlide = index;

            items[currentSlide].classList.add('active');
            dots[currentSlide].classList.add('active');
        }

        function nextSlide() {
            goToSlide((currentSlide + 1) % totalSlides);
        }

        function prevSlide() {
            goToSlide((currentSlide - 1 + totalSlides) % totalSlides);
        }

        // Auto-advance slides every 5 seconds
        if (totalSlides > 1) {
            setInterval(nextSlide, 5000);
        }
    </script>

    <!-- Categories -->
    <section class="py-8 px-4">
        <div class="grid grid-cols-3 gap-4">
            <div class="flex flex-col items-center gap-2">
                <div
                    class="w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center text-tarahum-500 shadow-sm border border-gray-100">
                    <i data-lucide="coins" class="w-6 h-6"></i>
                </div>
                <span class="text-[10px] font-medium text-gray-600 text-center">Zakat</span>
            </div>
            <div class="flex flex-col items-center gap-2">
                <div
                    class="w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center text-teal-500 shadow-sm border border-gray-100">
                    <i data-lucide="hand-heart" class="w-6 h-6"></i>
                </div>
                <span class="text-[10px] font-medium text-gray-600 text-center">Infak</span>
            </div>
            <!-- <div class="flex flex-col items-center gap-2">
                <div
                    class="w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center text-emerald-500 shadow-sm border border-gray-100">
                    <i data-lucide="smile" class="w-6 h-6"></i>
                </div>
                <span class="text-[10px] font-medium text-gray-600 text-center">Sedekah</span>
            </div> -->
            <div class="flex flex-col items-center gap-2">
                <div
                    class="w-12 h-12 bg-gray-50 rounded-xl flex items-center justify-center text-green-600 shadow-sm border border-gray-100">
                    <i data-lucide="building-2" class="w-6 h-6"></i>
                </div>
                <span class="text-[10px] font-medium text-gray-600 text-center">Wakaf</span>
            </div>
        </div>
    </section>

    <!-- Penggalangan Mendesak -->
    <section class="py-4">
        <div class="px-4 flex justify-between items-center mb-4">
            <h2 class="text-sm font-bold text-gray-900">Penggalangan Mendesak</h2>
            <a href="/campaigns" class="text-[10px] font-medium text-tarahum-500 flex items-center gap-1">
                Lihat semua <i data-lucide="chevron-right" class="w-3 h-3"></i>
            </a>
        </div>

        <div class="flex overflow-x-auto hide-scrollbar gap-4 px-4 pb-4">
            <% campaigns.filter(c=> c.isActive).slice(0, 3).forEach(campaign => { %>
                <a href="/campaign/<%= campaign.id %>-<%= campaign.slug %>"
                    class="flex-shrink-0 w-72 card overflow-hidden block">
                    <div class="relative aspect-video">
                        <img src="<%= campaign.image || 'https://via.placeholder.com/400x225?text=No+Image' %>"
                            alt="<%= campaign.title %>" class="w-full h-full object-cover">
                    </div>
                    <div class="p-3">
                        <h3 class="text-xs font-bold text-gray-900 line-clamp-2 mb-3 h-8 leading-tight">
                            <%= campaign.title %>
                        </h3>

                        <div class="space-y-2">
                            <div class="flex justify-between items-end text-[9px] text-gray-400 font-medium">
                                <span>Collected</span>
                                <span class="font-bold text-gray-600">
                                    <%= campaign.percentage %>%
                                </span>
                            </div>

                            <div class="w-full bg-gray-100 h-1.5 rounded-full overflow-hidden">
                                <div class="bg-[#3dcef5] h-full rounded-full"
                                    style="width: <%= campaign.percentage %>%"></div>
                            </div>

                            <div class="flex justify-between items-center pt-1">
                                <span class="text-xs font-bold text-[#3dcef5]">
                                    <%= campaign.formattedCurrent %>
                                </span>
                                <span class="text-[9px] text-gray-400">
                                    Target: <%= campaign.formattedTarget %>
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
                <% }) %>
        </div>
    </section>

    <!-- Wakaf Generasi -->
    <section class="py-4">
        <div class="px-4 flex justify-between items-center mb-4">
            <h2 class="text-sm font-bold text-gray-900">Mau Beramal apa Hari ini?</h2>
            <a href="/campaigns" class="text-[10px] font-medium text-tarahum-500 flex items-center gap-1">
                Lihat semua <i data-lucide="chevron-right" class="w-3 h-3"></i>
            </a>
        </div>

        <div class="px-4 space-y-4">
            <% campaigns.filter(c=> c.isActive).slice(0, 5).forEach(campaign => { %>
                <a href="/campaign/<%= campaign.id %>-<%= campaign.slug %>"
                    class="flex gap-4 items-start bg-white p-2 rounded-xl border border-gray-100 transition-colors active:bg-gray-50">
                    <div class="w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden relative">
                        <img src="<%= campaign.image || 'https://via.placeholder.com/200?text=Wakaf' %>"
                            alt="<%= campaign.title %>" class="w-full h-full object-cover">
                        <div class="absolute top-1 left-1 bg-black/50 text-[8px] text-white px-1.5 rounded py-0.5">Wakaf
                        </div>
                    </div>
                    <div class="flex-grow pt-1">
                        <h3 class="text-xs font-bold text-gray-900 line-clamp-2 mb-3 leading-tight">
                            <%= campaign.title %>
                        </h3>

                        <div class="space-y-2">
                            <div class="flex justify-between items-end text-[9px] text-gray-400 font-medium">
                                <span>Collected</span>
                                <span class="font-bold text-gray-600">
                                    <%= campaign.percentage %>%
                                </span>
                            </div>

                            <div class="w-full bg-gray-100 h-1.5 rounded-full overflow-hidden">
                                <div class="bg-[#3dcef5] h-full rounded-full"
                                    style="width: <%= campaign.percentage %>%"></div>
                            </div>

                            <div class="flex justify-between items-center pt-1">
                                <span class="text-[11px] font-bold text-[#3dcef5]">
                                    <%= campaign.formattedCurrent %>
                                </span>
                                <span class="text-[9px] text-gray-400">
                                    Target: <%= campaign.formattedTarget %>
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
                <% }) %>
        </div>
    </section>

    <!-- Secondary Banner -->
    <!-- <section class="px-4 py-8">
        <div class="relative rounded-2xl overflow-hidden aspect-[16/9]">
            <img src="https://kareemventure.com/wp-content/uploads/2023/12/Banner-Kursi-Hikmah.webp" alt="Kursi Hikmah"
                class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-6">
            </div>
        </div>
    </section> -->

    <!-- Penggalangan Selesai -->
    <!-- <section class="py-4">
        <div class="px-4 flex justify-between items-center mb-4">
            <h2 class="text-sm font-bold text-gray-900">Penggalangan Selesai</h2>
            <a href="/campaigns" class="text-[10px] font-medium text-tarahum-500 flex items-center gap-1">
                Lihat semua <i data-lucide="chevron-right" class="w-3 h-3"></i>
            </a>
        </div>

        <div class="px-4 space-y-4">
            <div class="flex gap-4 items-start bg-gray-50 p-2 rounded-xl border border-gray-100 opacity-75">
                <div class="w-24 h-24 flex-shrink-0 rounded-lg overflow-hidden grayscale">
                    <img src="https://via.placeholder.com/200" alt="Selesai" class="w-full h-full object-cover">
                </div>
                <div class="flex-grow pt-1">
                    <h3 class="text-xs font-bold text-gray-900 line-clamp-2 mb-2 leading-tight">Wakaf Kelan MAF
                        Ponokusumo</h3>
                    <div class="flex justify-between items-end mt-4">
                        <span class="text-[10px] font-bold text-tarahum-600">Rp 2.800.500.000</span>
                        <span class="text-[9px] text-gray-400 italic">Periode telah berakhir</span>
                    </div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Kumpulan Doa -->
    <section class="py-8 bg-gray-50/50">
        <div class="px-4 mb-6">
            <h2 class="text-sm font-bold text-gray-900">Kumpulan Doa</h2>
        </div>

        <div class="flex overflow-x-auto hide-scrollbar gap-4 px-4 pb-4">
            <% if (prayers && prayers.length> 0) { %>
                <% prayers.forEach(p=> { %>
                    <div
                        class="flex-shrink-0 w-64 bg-white p-4 rounded-xl border border-gray-100 shadow-sm relative overflow-hidden flex flex-col">
                        <div class="absolute top-0 right-0 p-2 opacity-10">
                            <i data-lucide="quote" class="w-12 h-12"></i>
                        </div>
                        <p class="text-[11px] text-gray-600 italic leading-relaxed mb-4 flex-grow">
                            "<%= p.pray %>"
                        </p>
                        <div class="flex justify-between items-center mt-auto">
                            <span class="text-[10px] font-bold text-gray-900">
                                <%= p.name %>
                            </span>
                            <button
                                class="bg-[#3dcef5] text-white text-[9px] px-3 py-1.5 rounded-lg flex items-center gap-1 active:scale-95 transition-transform">
                                <i data-lucide="heart" class="w-2.5 h-2.5 fill-current"></i> Aamiin
                            </button>
                        </div>
                    </div>
                    <% }) %>
                        <% } else { %>
                            <div
                                class="w-full py-8 text-center bg-white rounded-xl border border-gray-50 italic text-[10px] text-gray-400">
                                Belum ada doa dari donatur. Mari berdonasi dan titipkan doa terbaik Anda.
                            </div>
                            <% } %>
        </div>
    </section>

    <!-- Contact & Footer Links -->
    <section class="py-8 px-4 text-center border-t border-gray-100">
        <div class="flex text-justify gap-2 text-[10px] text-gray-500 mb-6">
            Baznas – YIA adalah Unit Pengumpul Zakat (UPZ) dilingkungan Yayasan Islam Al Ayaniyah dan bertujuan untuk
            mengoptimalkan pengumpulan dan pendistribusian zakat, infaq, dan sedekah dari sivitas santri, Jama’ah masjid
            serta masyarakat sekitar.Bantuan Pendidikan bagi Santri TK, SD, SMP, SMA, SMK Al Ayaniyah dan Umum
            <br><br>
            Bantuan Pendidikan bekerjasama dengan BAZNAS Tangerang Kota
            <br>
            Bantuan Kesehatan untuk civitas sekolah dan masyarakat sekitar
            <br>
            Bantuan kegiatan sosial dan kebencanaan

            <br><br>
            UPZ BAZNAS YIA
            <br>
            Unit Pengumpul Zakat|Wakaf|Infaq|Shodaqoh|Donasi
            <br>
            Jl. Halim Perdanakusuma, No. 60, Kebon Besar – Batu Ceper – Kota Tangerang
            <br>
            BSI No. Rekening : 731-961-7056 | BRI No. Rekening : 0821-01-00021-56-9
            <br>
            SK BAZNAS – 043.01.Kep/BAZNAS-KT/2025
        </div>
        <div class="flex justify-center gap-4 mb-6">
            <a href="#"
                class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center text-tarahum-500">
                <i data-lucide="facebook" class="w-4 h-4"></i>
            </a>
            <a href="#"
                class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center text-tarahum-500">
                <i data-lucide="instagram" class="w-4 h-4"></i>
            </a>
            <a href="#"
                class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center text-tarahum-500">
                <i data-lucide="youtube" class="w-4 h-4"></i>
            </a>
            <a href="#"
                class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center text-tarahum-500">
                <i data-lucide="message-circle" class="w-4 h-4"></i>
            </a>
            <a href="#"
                class="w-8 h-8 rounded-full border border-gray-200 flex items-center justify-center text-tarahum-500">
                <i data-lucide="mail" class="w-4 h-4"></i>
            </a>
        </div>
        <p class="text-[10px] text-gray-400">&copy; 2026 power by <a
                href="https://otomatisin.web.id">otomatisin.web.id</a></p>
    </section>

    <%- include('../partials/front_footer') %>